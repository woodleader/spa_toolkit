<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Toolbox Launcher</title>
    <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='8' y='8' width='50' height='50' fill='%23000'/%3E%3Crect x='4' y='4' width='50' height='50' fill='%234f46e5' stroke='%23000' stroke-width='4'/%3E%3Ctext x='30' y='44' text-anchor='middle' font-family='Helvetica Neue, Arial, sans-serif' font-size='44' font-weight='900' fill='%23ec4899'%3ET%3C/text%3E%3Ctext x='28' y='42' text-anchor='middle' font-family='Helvetica Neue, Arial, sans-serif' font-size='44' font-weight='900' fill='%23ffffff'%3ET%3C/text%3E%3C/svg%3E">
    <style>
        :root {
            /* Neo-Brutalist Palette */
            --bg-color: #e0e7ff;
            --panel-bg: #ffffff;
            --card-bg: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #4a4a4a;
            --border-color: #000000;
            --border-width: 3px;
            --shadow-offset: 6px;
            --shadow-color: #000000;

            /* High Saturation Accents */
            --accent-primary: #4f46e5;
            --accent-secondary: #ec4899;
            --hover-bg: #fdf2f8;

            /* Tag Colors - Bold & Flat */
            --tag-can: #fbbf24;
            --tag-automotive: #ef4444;
            --tag-verification: #3b82f6;
            --tag-visualization: #10b981;
            --tag-compliance: #f59e0b;
            --tag-camera: #8b5cf6;
        }

        /* Dark Mode Override */
        body.dark-mode {
            --bg-color: #0d1320;
            --panel-bg: #131d31;
            --card-bg: #19243b;
            --text-primary: #f8fbff;
            --text-secondary: #c4d2eb;
            --border-color: #7db2ff;
            --shadow-color: #0a0f1d;
            --hover-bg: #22314f;

            /* High saturation accents pop more on dark */
            --accent-primary: #6ea8ff;
            --accent-secondary: #ff7eb8;

            --tag-can: #f4c542;
            --tag-automotive: #ff6b6b;
            --tag-verification: #69a8ff;
            --tag-visualization: #35d3b0;
            --tag-compliance: #f9a83b;
            --tag-camera: #a98dff;
        }

        body.dark-mode .app-card,
        body.dark-mode .controls,
        body.dark-mode header,
        body.dark-mode footer,
        body.dark-mode .view-mode-toggle,
        body.dark-mode .sort-select,
        body.dark-mode .filter-chip {
            box-shadow: var(--shadow-offset) var(--shadow-offset) 0 var(--shadow-color);
        }

        body.dark-mode .app-card {
            background: #19243b;
        }

        body.dark-mode .app-card:hover {
            background: #22314f;
        }

        body.dark-mode .app-tag {
            border-color: #0a0f1d;
            box-shadow: 2px 2px 0 #0a0f1d;
        }

        body.dark-mode .control-label {
            background: #6ea8ff;
            color: #0d1320;
        }

        body.dark-mode .filter-chip.active {
            background: #2c4169;
            color: #f8fbff;
            border-color: #7db2ff;
        }

        body.dark-mode .filter-chip.active .chip-dot {
            border-color: #f8fbff;
        }

        body.dark-mode .group-header {
            color: #d9e7ff;
        }

        body.dark-mode .theme-toggle {
            background: #6ea8ff;
            border-color: #0a0f1d;
            box-shadow: 4px 4px 0 #f8fbff;
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            /* Clean, bold sans */
            background: var(--bg-color);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            max-width: 1200px;
            width: 95%;
            padding: 40px 20px;
            text-align: center;
        }

        header {
            margin-bottom: 50px;
            background: var(--panel-bg);
            border: var(--border-width) solid var(--border-color);
            box-shadow: var(--shadow-offset) var(--shadow-offset) 0 var(--shadow-color);
            padding: 30px;
            transform: rotate(-1deg);
            position: relative;
            /* Context for toggle button */
            transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        }

        /* Theme Toggle "Tacked On" */
        .theme-toggle {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 48px;
            height: 48px;
            background: var(--accent-primary);
            border: var(--border-width) solid var(--border-color);
            box-shadow: 4px 4px 0 var(--shadow-color);
            transform: rotate(10deg);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .theme-toggle:hover {
            transform: rotate(0deg) scale(1.1);
        }

        .theme-toggle:active {
            transform: rotate(0deg) scale(0.95);
        }

        .theme-toggle svg {
            width: 24px;
            height: 24px;
            stroke: #fff;
            stroke-width: 2.5;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Show/Hide icons based on theme */
        .theme-toggle .icon-sun {
            display: none;
        }

        .theme-toggle .icon-moon {
            display: block;
        }

        body.dark-mode .theme-toggle .icon-sun {
            display: block;
            stroke: #000;
        }

        body.dark-mode .theme-toggle .icon-moon {
            display: none;
        }

        
        h1 {
            font-size: 4rem;
            font-weight: 900;
            margin: 0 0 10px 0;
            text-transform: uppercase;
            letter-spacing: -2px;
            line-height: 0.9;
            color: var(--text-primary);
            text-shadow: 2px 2px 0 var(--accent-secondary);
        }

        p.subtitle {
            font-size: 1.5rem;
            color: var(--text-primary);
            font-weight: 700;
            font-family: 'Courier New', monospace;
            margin: 0;
        }

        /* Controls */
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            align-items: center;
            margin-bottom: 60px;
            background: var(--panel-bg);
            padding: 20px;
            border: var(--border-width) solid var(--border-color);
            box-shadow: var(--shadow-offset) var(--shadow-offset) 0 var(--shadow-color);
            transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .control-label {
            font-weight: 800;
            text-transform: uppercase;
            font-size: 1rem;
            background: var(--text-primary);
            color: var(--bg-color);
            /* Inverted for contrast */
            padding: 5px 10px;
        }

        .filter-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .filter-chip {
            background: var(--panel-bg);
            border: var(--border-width) solid var(--border-color);
            color: var(--text-primary);
            padding: 10px 20px;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            box-shadow: 4px 4px 0 var(--shadow-color);
            transition: all 0.1s ease;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-chip:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 var(--shadow-color);
            background: var(--accent-primary);
            color: #fff;
            border-color: var(--border-color);
        }

        .filter-chip:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color);
        }

        .filter-chip.active {
            background: var(--text-primary);
            color: var(--bg-color);
            box-shadow: 2px 2px 0 var(--shadow-color);
            transform: translate(2px, 2px);
            border-color: var(--border-color);
        }

        .chip-dot {
            width: 12px;
            height: 12px;
            border: 2px solid var(--border-color);
            background: var(--chip-color);
            display: inline-block;
        }

        .filter-chip.active .chip-dot {
            border-color: var(--bg-color);
        }

        .sort-select {
            background: var(--panel-bg);
            border: var(--border-width) solid var(--border-color);
            color: var(--text-primary);
            padding: 10px 40px 10px 20px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 4px 4px 0 var(--shadow-color);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='4'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
        }

        /* Grid */
        .launcher-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            width: 100%;
        }

        .launcher-grid.grouped {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .group-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
            width: 100%;
        }

        /* Group Headers */
        .group-header {
            width: 100%;
            font-size: 2rem;
            font-weight: 900;
            border-bottom: 4px solid var(--border-color);
            padding-bottom: 10px;
            margin: 40px 0 20px 0;
            text-align: left;
            text-transform: uppercase;
        }

        /* Cards */
        .app-card {
            background: var(--card-bg);
            border: var(--border-width) solid var(--border-color);
            padding: 30px;
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            position: relative;
            box-shadow: var(--shadow-offset) var(--shadow-offset) 0 var(--shadow-color);
            transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .app-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: calc(var(--shadow-offset) + 4px) calc(var(--shadow-offset) + 4px) 0 var(--shadow-color);
            background: var(--panel-bg);
        }

        .app-card:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color);
        }

        .app-card.hidden {
            display: none;
        }

        /* Tags */
        .app-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
            width: 100%;
        }

        .app-tag {
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            padding: 4px 8px;
            border: 2px solid var(--border-color);
            background: var(--tag-color, #eee);
            color: #000;
            box-shadow: 2px 2px 0 var(--shadow-color);
        }

        /* Icons */
        .icon-wrapper {
            width: 80px;
            height: 80px;
            background: var(--panel-bg);
            border: 3px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            box-shadow: 4px 4px 0 var(--shadow-color);
        }

        .icon-wrapper svg {
            width: 40px;
            height: 40px;
            stroke: var(--text-primary);
            stroke-width: 2.5;
            fill: none;
            stroke-linecap: square;
            stroke-linejoin: miter;
        }

        .app-title {
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 10px;
            line-height: 1.1;
            border-bottom: 3px solid var(--accent-secondary);
            display: inline-block;
        }

        .app-desc {
            font-size: 1.1rem;
            color: var(--text-secondary);
            line-height: 1.4;
            font-weight: 500;
            text-align: left;
            margin-top: auto;
        }

        /* Footer */
        footer {
            margin-top: 80px;
            padding: 20px;
            border-top: 4px solid var(--border-color);
            font-weight: 700;
            font-family: 'Courier New', monospace;
            background: var(--panel-bg);
            width: 100%;
            text-align: center;
            box-shadow: var(--shadow-offset) var(--shadow-offset) 0 var(--shadow-color);
        }

        /* View Mode Toggle */
        .view-mode-toggle {
            position: absolute;
            bottom: -15px;
            right: -15px;
            width: 48px;
            height: 48px;
            background: #fde047;
            border: 3px solid var(--border-color);
            color: #000;
            padding: 0;
            cursor: pointer;
            font-weight: 800;
            box-shadow: 4px 4px 0 var(--shadow-color);
            transform: rotate(-9deg);
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .view-mode-toggle:hover {
            transform: rotate(0deg) scale(1.08);
            box-shadow: 6px 6px 0 var(--shadow-color);
        }

        .view-mode-toggle:active {
            transform: rotate(0deg) scale(0.95);
            box-shadow: 2px 2px 0 var(--shadow-color);
        }

        .view-mode-toggle svg {
            width: 24px;
            height: 24px;
            stroke: currentColor;
            stroke-width: 3;
            fill: none;
        }

        .view-mode-toggle .icon-grid {
            display: none;
        }

        .view-mode-toggle.show-grid .icon-grid {
            display: block;
        }

        .view-mode-toggle.show-grid .icon-list {
            display: none;
        }

        body.dark-mode .view-mode-toggle {
            background: #f4c542;
            border-color: #0a0f1d;
            box-shadow: 4px 4px 0 #f8fbff;
            color: #0a0f1d;
        }

        /* List View */
        .launcher-grid.list-view {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .launcher-grid.list-view.grouped {
            gap: 0;
        }

        .launcher-grid.list-view .group-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .launcher-grid.list-view .app-card {
            display: grid;
            grid-template-columns: 80px minmax(0, 1fr) auto;
            grid-template-rows: auto auto;
            grid-template-areas:
                "icon title tags"
                "icon desc  tags";
            align-items: center;
            gap: 5px 30px;
            padding: 20px;
            text-align: left;
        }

        .launcher-grid.list-view .app-card.hidden {
            display: none;
        }

        .launcher-grid.list-view .icon-wrapper {
            grid-area: icon;
            margin: 0;
            width: 60px;
            height: 60px;
            justify-self: center;
            /* Center horizontally in the icon column */
        }

        .launcher-grid.list-view .app-title {
            grid-area: title;
            margin: 0;
            align-self: end;
            border-bottom: none;
            min-width: 0;
        }

        .launcher-grid.list-view .app-desc {
            grid-area: desc;
            margin: 0;
            align-self: start;
            min-width: 0;
        }

        .launcher-grid.list-view .app-tags {
            grid-area: tags;
            width: 100%;
            margin: 0;
            flex-direction: column;
            align-items: flex-end;
            justify-content: center;
            gap: 5px;
        }

        @media (max-width: 640px) {
            h1 {
                font-size: 2.5rem;
                margin-top: 10px;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            header {
                padding: 54px 20px 24px;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                width: 42px;
                height: 42px;
                transform: rotate(0deg);
            }

            .view-mode-toggle {
                bottom: -10px;
                right: -10px;
                width: 42px;
                height: 42px;
            }

            .launcher-grid.list-view .app-card {
                grid-template-columns: 56px minmax(0, 1fr);
                grid-template-rows: auto auto auto;
                grid-template-areas:
                    "icon title"
                    "icon desc"
                    "tags tags";
                gap: 8px 14px;
            }

            .launcher-grid.list-view .icon-wrapper {
                width: 48px;
                height: 48px;
                align-self: start;
            }

            .launcher-grid.list-view .app-tags {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
                align-items: flex-start;
                justify-content: flex-start;
                gap: 8px;
                margin-top: 6px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <button class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" aria-label="Toggle Dark Mode">
                <!-- Moon Icon -->
                <svg class="icon-moon" viewBox="0 0 24 24">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
                <!-- Sun Icon -->
                <svg class="icon-sun" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
            <button class="view-mode-toggle" id="view-mode-toggle" onclick="toggleView()"
                aria-label="Switch to list view">
                <svg class="icon-list" viewBox="0 0 24 24">
                    <line x1="8" y1="6" x2="21" y2="6"></line>
                    <line x1="8" y1="12" x2="21" y2="12"></line>
                    <line x1="8" y1="18" x2="21" y2="18"></line>
                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                </svg>
                <svg class="icon-grid" viewBox="0 0 24 24">
                    <rect x="3" y="3" width="7" height="7"></rect>
                    <rect x="14" y="3" width="7" height="7"></rect>
                    <rect x="3" y="14" width="7" height="7"></rect>
                    <rect x="14" y="14" width="7" height="7"></rect>
                </svg>
            </button>
            <h1>Toolbox Launcher</h1>
            <p class="subtitle">Engineering Tools</p>
        </header>

        <!-- Filter and Sort Controls -->
        <div class="controls">
            <div class="control-group">
                <span class="control-label">Filter:</span>
                <div class="filter-chips" id="filter-chips">
                    <button class="filter-chip active" data-tag="all">All</button>
                    <button class="filter-chip" data-tag="can" style="--chip-color: var(--tag-can)">
                        <span class="chip-dot"></span>CAN
                    </button>
                    <button class="filter-chip" data-tag="automotive" style="--chip-color: var(--tag-automotive)">
                        <span class="chip-dot"></span>Auto
                    </button>
                    <button class="filter-chip" data-tag="verification" style="--chip-color: var(--tag-verification)">
                        <span class="chip-dot"></span>Verify
                    </button>
                    <button class="filter-chip" data-tag="visualization" style="--chip-color: var(--tag-visualization)">
                        <span class="chip-dot"></span>Visual
                    </button>
                    <button class="filter-chip" data-tag="compliance" style="--chip-color: var(--tag-compliance)">
                        <span class="chip-dot"></span>Comply
                    </button>
                    <button class="filter-chip" data-tag="camera" style="--chip-color: var(--tag-camera)">
                        <span class="chip-dot"></span>Camera
                    </button>
                </div>
            </div>
            <div class="control-group">
                <span class="control-label">Group:</span>
                <select class="sort-select" id="group-select">
                    <option value="none">None</option>
                    <option value="tag">Category</option>
                    <option value="alpha">A-Z</option>
                </select>
            </div>
        </div>

        <main class="launcher-grid" id="launcher-grid">
            <!-- Regulatory Markings -->
            <a href="markings/regulatory_marks.html" class="app-card" data-tags="compliance,verification">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-compliance)">Compliance</span>
                    <span class="app-tag" style="--tag-color: var(--tag-verification)">Verification</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M9 12l2 2 4-4"></path>
                    </svg>
                </div>
                <div class="app-title">Regulatory Marks</div>
                <div class="app-desc">Decision helper for applying CE, FCC, and R10 markings to products.</div>
            </a>

            <!-- MD5 Check -->
            <a href="md5check/md5check.html" class="app-card" data-tags="verification">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-verification)">Verification</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M4 9h16"></path>
                        <path d="M4 15h16"></path>
                        <path d="M10 3L8 21"></path>
                        <path d="M16 3l-2 18"></path>
                    </svg>
                </div>
                <div class="app-title">MD5 & SHA Check</div>
                <div class="app-desc">Verify file integrity using MD5 and SHA-256 hash algorithms.</div>
            </a>

            <!-- JSON Compare -->
            <a href="json_compare/json_compare.html" class="app-card" data-tags="verification,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-verification)">Verification</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M16 3h5v5"></path>
                        <line x1="21" y1="3" x2="14" y2="10"></line>
                        <path d="M8 21H3v-5"></path>
                        <line x1="3" y1="21" x2="10" y2="14"></line>
                        <rect x="2" y="2" width="8" height="8" rx="1"></rect>
                        <rect x="14" y="14" width="8" height="8" rx="1"></rect>
                    </svg>
                </div>
                <div class="app-title">JSON Compare</div>
                <div class="app-desc">Semantic comparison of JSON documents — find actual differences, not just text
                    changes.</div>
            </a>

            <!-- Magnification Tool -->
            <a href="magnification_tool/pixel_viz.html" class="app-card" data-tags="camera,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-camera)">Camera</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        <line x1="11" y1="8" x2="11" y2="14"></line>
                        <line x1="8" y1="11" x2="14" y2="11"></line>
                    </svg>
                </div>
                <div class="app-title">Magnification Tool</div>
                <div class="app-desc">Pixel-perfect visualization of camera magnification.</div>
            </a>

            <!-- Latency Timer -->
            <a href="latency_timer/timer.html" class="app-card" data-tags="camera,verification">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-camera)">Camera</span>
                    <span class="app-tag" style="--tag-color: var(--tag-verification)">Verification</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="13" r="8"></circle>
                        <path d="M12 9v4l2 2"></path>
                        <path d="M12 2v3"></path>
                        <path d="M7 3.5l2 2"></path>
                        <path d="M17 3.5l-2 2"></path>
                    </svg>
                </div>
                <div class="app-title">Latency Timer</div>
                <div class="app-desc">High-precision timer for measuring camera and display latency.</div>
            </a>

            <!-- CAN Visualizer -->
            <a href="can_viz/can_viz.html" class="app-card" data-tags="can,automotive,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-can)">CAN</span>
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <rect x="2" y="2" width="6" height="6" rx="1"></rect>
                        <rect x="16" y="2" width="6" height="6" rx="1"></rect>
                        <rect x="2" y="16" width="6" height="6" rx="1"></rect>
                        <rect x="16" y="16" width="6" height="6" rx="1"></rect>
                        <line x1="8" y1="5" x2="16" y2="5"></line>
                        <line x1="8" y1="19" x2="16" y2="19"></line>
                        <line x1="5" y1="8" x2="5" y2="16"></line>
                        <line x1="19" y1="8" x2="19" y2="16"></line>
                        <circle cx="12" cy="12" r="2"></circle>
                    </svg>
                </div>
                <div class="app-title">CAN Visualizer</div>
                <div class="app-desc">Visualize and map signals within 64-bit CAN messages.</div>
            </a>

            <!-- ADAS Sensor FOV -->
            <a href="adas_sensor_fov/adas_sensor_fov.html" class="app-card" data-tags="automotive,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"></circle>
                        <circle cx="12" cy="12" r="6"></circle>
                        <circle cx="12" cy="12" r="2"></circle>
                        <line x1="12" y1="2" x2="12" y2="6"></line>
                        <line x1="12" y1="18" x2="12" y2="22"></line>
                        <line x1="2" y1="12" x2="6" y2="12"></line>
                        <line x1="18" y1="12" x2="22" y2="12"></line>
                    </svg>
                </div>
                <div class="app-title">ADAS Sensor FOV</div>
                <div class="app-desc">Visualize sensor coverage around a vehicle footprint to identify blind spots.
                </div>
            </a>

            <!-- J1939 PGN Converter -->
            <a href="j1939_converter/j1939_converter.html" class="app-card" data-tags="can,automotive">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-can)">CAN</span>
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <rect x="3" y="4" width="18" height="4" rx="1"></rect>
                        <rect x="3" y="10" width="18" height="4" rx="1"></rect>
                        <rect x="3" y="16" width="18" height="4" rx="1"></rect>
                        <line x1="7" y1="6" x2="7" y2="6.01" stroke-width="3"></line>
                        <line x1="11" y1="6" x2="11" y2="6.01" stroke-width="3"></line>
                        <line x1="7" y1="12" x2="7" y2="12.01" stroke-width="3"></line>
                        <line x1="15" y1="12" x2="15" y2="12.01" stroke-width="3"></line>
                        <line x1="11" y1="18" x2="11" y2="18.01" stroke-width="3"></line>
                        <line x1="17" y1="18" x2="17" y2="18.01" stroke-width="3"></line>
                    </svg>
                </div>
                <div class="app-title">J1939 PGN Converter</div>
                <div class="app-desc">Convert 29-bit CAN IDs to J1939 PGN with field breakdown and PGN lookup.</div>
            </a>

            <!-- DBC Parser Lite -->
            <a href="dbc_parser/dbc_parser.html" class="app-card" data-tags="can,automotive">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-can)">CAN</span>
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                        <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
                        <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
                    </svg>
                </div>
                <div class="app-title">DBC Parser Lite</div>
                <div class="app-desc">Explore CAN databases (.dbc) — view messages, signals, scaling, and value tables.
                </div>
            </a>

            <!-- FMEA Tool -->
            <a href="fmea/fmea.html" class="app-card" data-tags="automotive,compliance">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-compliance)">Compliance</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M12 8v4"></path>
                        <circle cx="12" cy="16" r="1"></circle>
                    </svg>
                </div>
                <div class="app-title">FMEA Tool</div>
                <div class="app-desc">AIAG-VDA 2019 compliant risk assessment with Action Priority calculation.</div>
            </a>

            <!-- PCB Pinout Marker -->
            <a href="pcb_pinout/pcb_pinout.html" class="app-card" data-tags="visualization,verification">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                    <span class="app-tag" style="--tag-color: var(--tag-verification)">Verification</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <rect x="2" y="2" width="20" height="20" rx="2"></rect>
                        <circle cx="7" cy="7" r="1.5"></circle>
                        <circle cx="12" cy="7" r="1.5"></circle>
                        <circle cx="17" cy="7" r="1.5"></circle>
                        <circle cx="7" cy="12" r="1.5"></circle>
                        <circle cx="17" cy="12" r="1.5"></circle>
                        <circle cx="7" cy="17" r="1.5"></circle>
                        <circle cx="12" cy="17" r="1.5"></circle>
                        <circle cx="17" cy="17" r="1.5"></circle>
                    </svg>
                </div>
                <div class="app-title">PCB Pinout Marker</div>
                <div class="app-desc">Mark and document programming interfaces on PCB images with color-coded pins.
                </div>
            </a>

            <!-- IP Protection Class -->
            <a href="ip_protection/ip_protection.html" class="app-card" data-tags="automotive,compliance">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-compliance)">Compliance</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M12 8l3.09 1.64-.69 3.53L12 15l-2.4-1.83-.69-3.53z"></path>
                    </svg>
                </div>
                <div class="app-title">IP Protection Guide</div>
                <div class="app-desc">Visualize and understand IP protection classes per ISO 20653 &amp; DIN EN 60529.
                </div>
            </a>

            <!-- Glass-to-Glass Latency -->
            <a href="glass_latency/glass_latency.html" class="app-card" data-tags="camera,automotive,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-camera)">Camera</span>
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                        <path d="M2 12h2M20 12h2"></path>
                    </svg>
                </div>
                <div class="app-title">Glass-to-Glass Latency</div>
                <div class="app-desc">Visualize automotive camera system latency from sensor capture to monitor display.
                </div>
            </a>

            <!-- FPD-Link III Loss Calculator -->
            <a href="fpdlink_loss/fpdlink_loss.html" class="app-card" data-tags="automotive,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                    </svg>
                </div>
                <div class="app-title">FPD-Link III Loss</div>
                <div class="app-desc">Calculate insertion loss and link margin for high-speed SerDes video links.
                </div>
            </a>

            <!-- GMSL2 Channel Loss Calculator -->
            <a href="gmsl2_loss/gmsl2_loss.html" class="app-card" data-tags="automotive,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                    </svg>
                </div>
                <div class="app-title">GMSL2 Channel Loss</div>
                <div class="app-desc">Calculate insertion loss and link margin for Analog Devices GMSL2 links.
                </div>
            </a>

            <!-- FAKRA Cable Compare -->
            <a href="fakra_cables/fakra_cables.html" class="app-card" data-tags="automotive,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 2v4M12 18v4"></path>
                        <path d="M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83"></path>
                        <path d="M2 12h4M18 12h4"></path>
                        <path d="M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"></path>
                    </svg>
                </div>
                <div class="app-title">FAKRA Cable Compare</div>
                <div class="app-desc">Compare bending radius and insertion loss of coaxial cables.
                </div>
            </a>

            <!-- Camera Pixel Estimator -->
            <a href="pixel_estimator/pixel_estimator.html" class="app-card" data-tags="camera,visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-camera)">Camera</span>
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                        <line x1="8" y1="21" x2="16" y2="21"></line>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                        <path d="M6 8h.01M6 12h.01"></path>
                        <rect x="9" y="7" width="10" height="6" rx="1"></rect>
                    </svg>
                </div>
                <div class="app-title">Pixel Estimator</div>
                <div class="app-desc">Calculate person pixel size on camera sensor with 3D projection and lens
                    distortion.
                </div>
            </a>

            <!-- 3D Plot Viewer -->
            <a href="plot_3d/plot_3d.html" class="app-card" data-tags="visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                        <circle cx="12" cy="12" r="2"></circle>
                        <circle cx="6" cy="9" r="1.5"></circle>
                        <circle cx="18" cy="9" r="1.5"></circle>
                        <circle cx="8" cy="15" r="1.5"></circle>
                        <circle cx="16" cy="15" r="1.5"></circle>
                    </svg>
                </div>
                <div class="app-title">3D Plot Viewer</div>
                <div class="app-desc">Import CSV/JSON data and visualize as interactive 3D scatter plots with color
                    gradients.
                </div>
            </a>

            <!-- Desiccant Calculator -->
            <a href="desiccant_calc/desiccant_calc.html" class="app-card" data-tags="automotive,compliance">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-automotive)">Automotive</span>
                    <span class="app-tag" style="--tag-color: var(--tag-compliance)">Compliance</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>
                        <path d="M12 12v5"></path>
                        <circle cx="12" cy="12" r="2"></circle>
                    </svg>
                </div>
                <div class="app-title">Desiccant Calculator</div>
                <div class="app-desc">Calculate dew point and desiccant requirements for sealed enclosures.
                </div>
            </a>
            <!-- ScreenSim Studio -->
            <a href="screensim/screensim.html" class="app-card" data-tags="visualization">
                <div class="app-tags">
                    <span class="app-tag" style="--tag-color: var(--tag-visualization)">Visualization</span>
                </div>
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                        <line x1="8" y1="21" x2="16" y2="21"></line>
                        <line x1="12" y1="17" x2="12" y2="21"></line>
                        <rect x="6" y="6" width="12" height="8" rx="1" stroke-dasharray="2 2"></rect>
                    </svg>
                </div>
                <div class="app-title">ScreenSim Studio</div>
                <div class="app-desc">Create hardware-accurate screen mockups with draggable text and SVG device frames.
                </div>
            </a>
        </main>

        <div class="no-results" id="no-results" style="display: none;">
            <div class="no-results-icon">=!=</div>
            <div>NULL RESULT</div>
        </div>

        <footer>
            // SYSTEM STATUS: OK // LAST UPDATE: 09.02.2026 //
        </footer>
    </div>
</body>

<script>
    // Tag configuration 
    const tagConfig = {
        can: { label: 'CAN', color: '#000' },
        automotive: { label: 'Automotive', color: '#000' },
        verification: { label: 'Verification', color: '#000' },
        visualization: { label: 'Visualization', color: '#000' },
        compliance: { label: 'Compliance', color: '#000' },
        camera: { label: 'Camera', color: '#000' }
    };

    let currentFilter = 'all';
    let currentGroup = 'none';
    let currentView = 'grid';

    // Theme Toggle Logic
    const toggleBtn = document.getElementById('theme-toggle');

    // Check local storage or system preference
    const savedTheme = localStorage.getItem('toolboxTheme');
    const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

    if (savedTheme === 'dark' || (!savedTheme && systemDark)) {
        document.body.classList.add('dark-mode');
    }

    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('toolboxTheme', isDark ? 'dark' : 'light');
    }

    function updateViewToggleButton() {
        const viewToggleBtn = document.getElementById('view-mode-toggle');
        if (!viewToggleBtn) return;
        const nextView = currentView === 'list' ? 'grid' : 'list';
        viewToggleBtn.classList.toggle('show-grid', nextView === 'grid');
        viewToggleBtn.setAttribute('aria-label', `Switch to ${nextView} view`);
        viewToggleBtn.title = `Switch to ${nextView} view`;
    }

    function toggleView() {
        setView(currentView === 'list' ? 'grid' : 'list');
    }

    // View mode
    function setView(view) {
        currentView = view;
        const grid = document.getElementById('launcher-grid');

        if (view === 'list') {
            grid.classList.add('list-view');
        } else {
            grid.classList.remove('list-view');
        }
        updateViewToggleButton();
        localStorage.setItem('toolboxView', view);
        applyGrouping();
    }

    // Filter logic
    function setFilter(tag) {
        currentFilter = tag;

        // Update active chip
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.classList.toggle('active', chip.dataset.tag === tag);
        });

        applyFilterAndGroup();
        localStorage.setItem('toolboxFilter', tag);
    }

    // Grouping logic
    function setGroup(groupBy) {
        currentGroup = groupBy;
        applyFilterAndGroup();
        localStorage.setItem('toolboxGroup', groupBy);
    }

    function applyFilterAndGroup() {
        const grid = document.getElementById('launcher-grid');
        const cards = Array.from(document.querySelectorAll('.app-card'));
        const noResults = document.getElementById('no-results');

        // Filter cards
        let visibleCards = cards.filter(card => {
            const tags = card.dataset.tags ? card.dataset.tags.split(',') : [];
            const visible = currentFilter === 'all' || tags.includes(currentFilter);
            card.classList.toggle('hidden', !visible);
            return visible;
        });

        // Show/hide no results message
        noResults.style.display = visibleCards.length === 0 ? 'block' : 'none';

        applyGrouping(visibleCards);
    }

    function applyGrouping(visibleCards) {
        const grid = document.getElementById('launcher-grid');
        const cards = visibleCards || Array.from(document.querySelectorAll('.app-card:not(.hidden)'));

        // Remove existing group headers and sections
        document.querySelectorAll('.group-header, .group-section').forEach(el => el.remove());

        if (currentGroup === 'none') {
            grid.classList.remove('grouped');
            // Re-append cards directly to grid
            cards.forEach(card => grid.appendChild(card));
        } else if (currentGroup === 'tag') {
            grid.classList.add('grouped');

            // Group by primary tag (first tag)
            const groups = {};
            cards.forEach(card => {
                const tags = card.dataset.tags ? card.dataset.tags.split(',') : ['other'];
                const primaryTag = tags[0];
                if (!groups[primaryTag]) groups[primaryTag] = [];
                groups[primaryTag].push(card);
            });

            // Sort groups by tag label
            const sortedTags = Object.keys(groups).sort((a, b) => {
                const labelA = tagConfig[a]?.label || a;
                const labelB = tagConfig[b]?.label || b;
                return labelA.localeCompare(labelB);
            });

            // Render groups
            sortedTags.forEach(tag => {
                const config = tagConfig[tag] || { label: tag, color: 'var(--text-secondary)' };

                const header = document.createElement('div');
                header.className = 'group-header';
                header.innerHTML = `${config.label}`;
                grid.appendChild(header);

                const section = document.createElement('div');
                section.className = 'group-section';
                groups[tag].forEach(card => section.appendChild(card));
                grid.appendChild(section);
            });
        } else if (currentGroup === 'alpha') {
            grid.classList.add('grouped');

            // Group alphabetically by first letter
            const groups = {};
            cards.forEach(card => {
                const title = card.querySelector('.app-title').textContent.trim();
                const letter = title.charAt(0).toUpperCase();
                if (!groups[letter]) groups[letter] = [];
                groups[letter].push(card);
            });

            // Sort groups
            const sortedLetters = Object.keys(groups).sort();

            sortedLetters.forEach(letter => {
                const header = document.createElement('div');
                header.className = 'group-header';
                header.innerHTML = `${letter}`;
                grid.appendChild(header);

                const section = document.createElement('div');
                section.className = 'group-section';
                // Sort cards within group
                groups[letter].sort((a, b) => {
                    const titleA = a.querySelector('.app-title').textContent;
                    const titleB = b.querySelector('.app-title').textContent;
                    return titleA.localeCompare(titleB);
                });
                groups[letter].forEach(card => section.appendChild(card));
                grid.appendChild(section);
            });
        }
    }

    // Event listeners
    document.getElementById('filter-chips').addEventListener('click', (e) => {
        const chip = e.target.closest('.filter-chip');
        if (chip) {
            setFilter(chip.dataset.tag);
        }
    });

    document.getElementById('group-select').addEventListener('change', (e) => {
        setGroup(e.target.value);
    });

    // Initialize from saved preferences
    document.addEventListener('DOMContentLoaded', () => {
        const savedView = localStorage.getItem('toolboxView') || 'grid';
        const savedFilter = localStorage.getItem('toolboxFilter') || 'all';
        const savedGroup = localStorage.getItem('toolboxGroup') || 'none';

        currentView = savedView;
        currentFilter = savedFilter;
        currentGroup = savedGroup;

        // Apply saved view
        setView(savedView);

        // Apply saved filter
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.classList.toggle('active', chip.dataset.tag === savedFilter);
        });

        // Apply saved group
        document.getElementById('group-select').value = savedGroup;

        // Apply filter and grouping
        applyFilterAndGroup();
    });
</script>

</html>
